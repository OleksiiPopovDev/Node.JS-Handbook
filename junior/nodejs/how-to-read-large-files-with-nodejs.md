#### 8. Як зчитувати великі файли за допомогою Node.js?

## Розширені можливості зчитування файлів у Node.js
Великі файли можуть бути проблематичними для зчитування повністю у пам'яті, особливо якщо мова йде про дуже великі дані. З цієї причини існує кілька підходів для ефективного читання даних з великих файлів:

### 1. Читати по відділах (або блокам)

Виділений підхід полягає в тому, щоб прочитувати конкретний розмір даних за кожен запуст, який він здійснює. Тобто Ви можуть легко змінювати розміри кожного зчитуваного відрізка відповідно до вимог Вашої програми.

### 2. Утилітарне читання

Даний підхід передбачає використання спеціалізованих бібліотек для ефективної роботи зі значними кількостями даних. Такі бібліотеки можуть забезпечувати додаткові функції, такі як паралельна обробка тощо.
#### Приклад реалізації
Для зчитування великих файлів у Node.js ви можете використовували `fs.createReadStream()` для створення відтворюваного об'єкта файлу. Цей підхід дозволяє читати файли по шматочкам, що особливо корисне при роботі зі значними кількостями даних.
```javascript
const fs = require('fs');

fs.createReadStream('великий_файл.txt')
  .on('data', (шматок) => {
    // обробка кожного відрізка
  })
  .on('error', (error) => {
    // обробка помилок
  });
```
### 3. Пакування даних

Якщо дані з великого файлу містять повторювані елементи, їх можна компресувати чи зберігати за допомогою спеціалізованих бібліотек, наприклад, `zlib`, щоб зменшити розмір даних та поліпшити швидкість обробки.
#### Приклад реалізації
Для прикладу якщо Ви працюєте зі змінними кількостями текстових даних, які містять багато повторюваних рядків, ви можете використовувати бібліотеку `zlib` для попереднього сжаття даних перед зберіганням у файлі.
```javascript
const zlib = require('zlib');
const fs = require('fs');

// створіть потік виведення даних до великого файлу
const writeStream = fs.createWriteStream('великий_файл.txt.gz');

// сжимаєте дані за допомогою zlib.gzip()
const compress = zlib.gzip();

// з'єднуйте потоки виходу та сжаття даних
data.pipe(compress).pipe(writeStream);

writeStream.on('finish', () => {
  console.log('Файл зберігнувся');
});
```
Надані приклади демонструють ефективні підходи для обробки великих файлів в Node.js. Вибір найбільш відповідного методу залежить від особливостей даних та вимог програми до швидкості обробки.

| Попереднє питання | Наступне питання |
|---|---|
| [7. Node.js інтерпретує чи компілює код програми?](./junior/nodejs/7-compiled.md)  | [9. Що таке libuv i v8? Яке їхнє призначення?](./junior/nodejs/what-is-libuv-and-v8-what-are-they-used-for.md) |