### Як Node.js обробляє код: інтерпретація чи компіляція?

Node.js використовує **двигун V8** від Google для виконання JavaScript-коду. Процес обробки коду в Node.js включає обидва підходи — і **компіляцію**, і **інтерпретацію**, залежно від фази виконання.

#### **Процес виконання JavaScript у Node.js**

1. **Крок 1: Парсинг**
    - JavaScript-код передається до двигуна V8.
    - V8 аналізує код і створює абстрактне синтаксичне дерево (AST).

2. **Крок 2: Компіліяція Just-In-Time (JIT)**
    - Двигун V8 виконує **Just-In-Time компіляцію**, перетворюючи JavaScript-код на машинний код під час виконання.
    - Це забезпечує швидкість виконання порівняно з традиційними інтерпретаторами.

3. **Крок 3: Виконання машинного коду**
    - Після компіляції машинний код виконується безпосередньо процесором.

4. **Крок 4: Оптимізація**
    - V8 виконує динамічну оптимізацію: код, який часто виконується (гарячий код), оптимізується для швидшого виконання.
    - Неоптимальні частини коду (наприклад, через зміни типів даних) можуть бути знову скомпільовані.

---

#### **Інтерпретація vs. Компіляція в Node.js**
| Підхід        | Як реалізовано в Node.js                                              |
|---------------|------------------------------------------------------------------------|
| **Інтерпретація** | Частково використовується для швидкого аналізу та запуску коду.         |
| **Компіляція**   | JIT-компіляція забезпечує швидке виконання, компілюючи код у машинний. |

---

#### **Чому Node.js є гібридним?**
Node.js, завдяки V8, поєднує інтерпретацію для початкового виконання та JIT-компіляцію для оптимізації. Це дозволяє:
- **Швидкий запуск** програми, оскільки парсинг і виконання коду починається миттєво.
- **Високу продуктивність**, завдяки компіляції часто виконуваного коду в машинний.

---

#### **Висновок**
Node.js не просто інтерпретує JavaScript-код, а й активно компілює його під час виконання за допомогою двигуна V8. Це забезпечує баланс між швидкістю старту програми (завдяки інтерпретації) і продуктивністю виконання (завдяки JIT-компіляції).


| Попереднє питання                                                                  | Наступне питання                                                                               |
|------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------|
| [Чи можливо використовувати кілька потоків (threads)? За допомогою яких модулів це реалізовано?](6-is-it-possible-to-use-multiple-threads-what-modules-are-used-to-implement-this.md) | [Як зчитувати великі файли за допомогою Node.js?](8-how-to-read-large-files-using-node-js.md)  |
