#### 127. Що таке теорема CAP?

Теорема CAP (теорема Брюєра) є важливою концепцією в області розподілених систем. Вона стверджує, що для будь-якої розподіленої системи при роботі з даними можливе забезпечення лише двох з наступних трьох властивостей:

1. **Consistency (сумісність)**: Кожен запит на читання повертає найновіший (або збережений) стан даних.

2. **Availability (доступність)**: Кожен запит на читання або запис отримує відповідь (успішну або повідомлення про невдачу), незалежно від стану будь-якого вузла в системі.

3. **Partition Tolerance (стійкість до розділень)**: Система продовжує працювати попри будь-яке довільне розділення мережі, яке розриває комунікацію між вузлами.

Згідно з теоремою CAP, дизайнер системи повинен обрати дві властивості, що є важливими для конкретного випадку використання, тому що досягти всіх трьох одночасно неможливо. Це означає, що якщо система є розподіленою і може витримувати розділення мережі (що зазвичай є необхідністю для реальних розподілених систем), вона повинна буде вибирати між забезпеченням сумісності або доступності під час таких розділень.

### Приклади:

- **CP системи (Consistency, Partition Tolerance)**: HBase, MongoDB (при відповідній конфігурації). Вони зосереджуються на забезпеченні узгодженості і стійкості до розділень, часто за рахунок доступності.

- **AP системи (Availability, Partition Tolerance)**: Apache Cassandra, Amazon DynamoDB. Ці системи надають пріоритет доступності і стійкості до розділень, з певними компромісами щодо узгодженості.

- **CA системи (Consistency, Availability)**: Теоретична модель, яка не може існувати в розподіленій системі, що витримує розділення мережі.

Теорема CAP важлива, оскільки допомагає розробникам приймати зважені рішення про те, як спроектувати розподілену систему з урахуванням специфічних вимог до продуктивності і надійності.

| Back | Forward |
|---|---|
| [Яким чином ви б спроєктували API для bulk delete?](/ua/middle/networking/how-would-you-design-an-api-for-bulk-deletion.md)  | [Чим горизонтальне масштабування відрізняється від вертикального масштабування?](/ua/middle/system-design/what-distinguishes-horizontal-scaling-from-vertical-scaling.md) |