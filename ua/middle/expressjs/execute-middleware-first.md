#### * Prioritize middleware execution

У світі розробки програмного забезпечення термін "middleware" зазвичай відноситься до коду, який виконується між отриманням запиту від клієнта і відправкою йому відповіді. Пріоритизація виконання middleware може бути важливою для забезпечення правильного та ефективного виконання запитів. 

Ось кілька способів, як можна пріоритизувати виконання middleware:

1. **Послідовність (Chain of Responsibility):** Розташуйте middleware у певному порядку, де кожен компонент виконується один за іншим. Це дозволяє налаштувати послідовне виконання, яке важливе для певних логічних послідовностей (наприклад, аутентифікація перед авторизацією).

2. **Пріоритетні мітки:** Додайте мітки пріоритетності до кожного middleware. Це дозволить вам контролювати порядок виконання, навіть якщо структура системи змінюється.

3. **Конфігураційні файли:** Створіть конфігураційні файли, які керують чергою middleware, щоб змінювати порядок без змін у коді самого middleware.

4. **Налаштовувані контейнери:** Використовуйте контейнери для залежностей або інверсію контролю (IoC) для управління пріоритетами виконання.

5. **Спеціалізовані фреймворки:** Використовуйте фреймворки, які підтримують prioритизацію middleware, наприклад, Express.js для Node.js або ASP.NET Middleware в .NET, де можна вручну налаштувати послідовність їх виклику.

6. **Декомпозиція функцій:** Виділяйте різні функціональні обов'язки в окремі middleware. Це спростить управління ними та розуміння того, як змінювати пріоритети.

Приклад на Node.js з фреймворком Express:

```javascript
const express = require('express');
const app = express();

// Middleware з високим пріоритетом
app.use((req, res, next) => {
  console.log('First middleware - високий пріоритет');
  next();
});

// Middleware з низьким пріоритетом
app.use((req, res, next) => {
  console.log('Second middleware - низький пріоритет');
  next();
});

app.get('/', (req, res) => {
  res.send('Hello World');
});

app.listen(3000, () => {
  console.log('Server running on port 3000');
});
```

В даному прикладі перший middleware завжди буде виконуватися раніше другого завдяки своєму розташуванню в коді.

| Back | Forward |
|---|---|
| [Implement authentication using Passport.js and JWT](/ua/middle/nestjs/implement-authentication-using-passportjs-and-jwt.md)  | [Create modular routing systems](/ua/middle/expressjs/create-modular-routing-systems.md) |