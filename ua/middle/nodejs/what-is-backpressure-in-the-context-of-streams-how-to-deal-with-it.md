#### 91. Що таке backpressure у контексті стримів? Як з цим боротись?

Backpressure у контексті стримів у Node.js стосується ситуації, коли потік даних виробляє дані швидше, ніж споживач може їх обробити. Це може призвести до переповнення пам'яті та інших проблем з продуктивністю, якщо не враховувати це належним чином.

### Як працює Backpressure

Стрими в Node.js розподіляють дані шляхом емісії подій, і коли споживач не може встигнути обробити ці дані, стрим зазвичай починає накопичуватися в пам'яті. Якщо об'єм накопичених даних стає занадто великим, це може викликати проблему з пам'яттю.

### Як боротися з Backpressure

1. **Використання режиму "потокового читання" (flowing mode)**:
   У цьому режимі ви можете використовувати методи `.pause()` і `.resume()` для управління потоком даних. Це дозволяє затримати поставку даних, якщо буфер переповнений.

2. **Робота з промісами або асинхронними функціями**:
   Використання таких інструментів дозволяє реалізувати обробку даних в асинхронному стилі, що може дозволити кращий контроль над інтенсивністю обробки даних.

3. **Використання `pipe()`**:
   Метод `pipe()` автоматично управляє backpressure між readable та writable стримами і є хорошою практикою для обробки потоків даних.

4. **Збільшення буфера**:
   Якщо ваш застосунок має можливість ефективно обробляти більшу кількість даних в пам'яті, збільшення буферної частини може стати розв'язанням проблеми. Але цей підхід не повинен використовуватись як основне вирішення проблеми, оскільки це може збільшити витрати пам’яті.

5. **Використання спеціалізованих модулів**
   Наприклад, модулі як `stream-transform` в `stream` API Node.js надають гнучкіші інструменти для обробки потоків з backpressure.

Застосування цих стратегій допомагає зберегти належну продуктивність вашої програми, ефективніше використовуючи ресурси та уникати проблем з пам'яттю.

| Back | Forward |
|---|---|
| [SIGTERM vs SIGINT: які їхні переваги та недоліки?](/ua/middle/nodejs/comparing-sigterm-and-sigint-signals.md)  | [Для чого потрібні stream.PassThrough і pipe (pipeline)? Наведіть приклади використання.](/ua/middle/nodejs/what-are-the-purposes-of-streampassthrough-and-pipe-provide-examples.md) |