#### 74. Які існують шаблони розподілених транзакцій?

Існує декілька основних шаблонів розподілених транзакцій, які застосовуються для забезпечення узгодженості та надійності в розподілених системах. Ось деякі з них:

1. **Двофазний комітет (Two-Phase Commit, 2PC)**:
   - Перший етап: координатор запитує у всіх учасників (ресурсних менеджерів), чи можуть вони виконати транзакцію.
   - Другий етап: якщо всі учасники погоджуються, координатор надсилає команду на фіксацію (commit) транзакції, інакше - команду на скасування (rollback).

2. **Трифазний комітет (Three-Phase Commit, 3PC)**:
   - Вдосконалення двофазного комітету, додається підготовча фаза перед власне комітетом, що зменшує ймовірність блокувань системи.

3. **Шаблон узгодженості на основі саг (Saga)**:
   - Транзакція розбивається на серію кроків, кожен з яких є локальною транзакцією. Кожен крок має відповідну операцію скасування (compensating transaction) у разі помилки.

4. **Шаблон Eventual Consistency (кінцева узгодженість)**:
   - Система проектується таким чином, щоб її стан міг бути тимчасово непослідовним, але з часом дійде до узгодженого стану. Це підходить для систем з високим навантаженням, де негайна узгодженість не є пріоритетною.

5. **Шаблон Coordinated Commit**:
   - Використовується сервіс-координатор, який керує транзакціями з кількома учасниками, позбавлений вузьких місць іменникового блокування.

6. **Шаблон TCC (Try-Confirm/Cancel)**:
   - Включає три фази: спроба (try), підтвердження (confirm) та скасування (cancel). Операції спроби резервують ресурси, а підтвердження або скасування закінчують транзакцію.

Вибір відповідного шаблону залежить від вимог до транзакцій, умов середовища та інших факторів, таких як продуктивність та потреби в узгодженості.

| Back | Forward |
|---|---|
| [Що таке libuv? Назвіть його складові.](/ua/middle/nodejs/what-is-libuv-name-its-components.md)  | [Чи можливо програмно контролювати виділення і звільнення пам’яті в Node.js програмі?](/ua/middle/nodejs/is-it-possible-to-programatically-manage-memory-allocation-and-deallocation-in-a-nodejs-program.md) |