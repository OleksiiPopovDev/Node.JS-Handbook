#### 94. Які існують шаблони розподілених транзакцій?

У розподілених системах, де обробка транзакцій охоплює декілька сервісів або компонентів, управління транзакціями може бути досить складним завданням. Існують різні шаблони для організації розподілених транзакцій:

1. **Двохетапний коміт (Two-Phase Commit, 2PC)**:
   - Це один з найпоширеніших шаблонів, що забезпечує атомарність розподіленої транзакції. Він складається з двох етапів: етапу підготовки, коли всі учасники погоджуються на коміт (commit), і етапу самого коміту, коли дійсно виконуються всі зміни.
   - Недолік: може привести до блокувань і залежності від термінів, якщо один з учасників не відповість.

2. **Триетапний коміт (Three-Phase Commit, 3PC)**:
   - Поліпшена версія 2PC, яка додає додатковий етап, щоб уникнути деяких вузьких місць, властивих 2PC, таких як блокування ресурсів при збоях. Включення додаткового етапу покращує час відгуку.
   - Недолік: все ще може бути повільним через додаткову комунікацію.

3. **Компенсаційні транзакції (Sagas)**:
   - Це підхід до управління довготривалими транзакціями. При кожній підцілі в процесі транзакції існує компенсуюча дія для скасування змін у разі, якщо частина транзакції не вдасться.
   - Підходить для сценаріїв, де можна допустити часткове виконання, а гарантії ACID не є обов'язковими.

4. **Transaction Outbox Pattern**:
   - Використовується в контексті мікросервісів. Полягає у зберіганні повідомлень або подій у тому ж сховищі, що й дані бізнес-логіки, і пізнішого читання та обробки цих повідомлень.
   - Забезпечує можливість надійного відправлення повідомлень навіть при збоях.

5. **Eventual Consistency**:
   - Хоча це не класичний шаблон транзакцій, це підхід, при якому система допускає тимчасові несумісності і гарантує рано чи пізно узгодження всіх частин даних. Часто використовується в системах, де важлива висока доступність та продуктивність.

Кожен з цих шаблонів має свої переваги та недоліки, і вибір конкретного підходу залежить від вимог до консистентності та інших технічних характеристик проєкту.

| Back | Forward |
|---|---|
| [Що таке libuv? Назвіть його складові.](/ua/middle/nodejs/what-is-libuv-break-down-its-components.md)  | [Чи можливо програмно контролювати виділення і звільнення пам’яті в Node.js програмі?](/ua/middle/nodejs/can-memory-allocation-and-deallocation-be-programmatically-controlled-in-a-nodejs-program.md) |