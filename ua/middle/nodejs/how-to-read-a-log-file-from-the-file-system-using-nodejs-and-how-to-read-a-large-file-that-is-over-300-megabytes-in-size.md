#### 87. Як можна за допомогою Node.js app прочитати файл з логами із файлової системи? Як прочитати файл, який займає понад 300 мегабайтів?

Щоб прочитати файл з логами із файлової системи за допомогою Node.js, ви можете скористатися модулем `fs` (file system), який надає можливості для роботи з файлами. Існує декілька підходів для читання файлів, зокрема синхронне, асинхронне читання та використання потоків (streams).

### Асинхронне читання файлів

Для зручного читання файлів асинхронно ви можете використовувати метод `fs.readFile`. Але цей метод завантажує ввесь файл в пам'ять, тому він не підходить для файлів, що займають понад 300 мегабайтів.

```javascript
const fs = require('fs');

fs.readFile('path/to/logfile.log', 'utf8', (err, data) => {
    if (err) {
        console.error('Не вдалося прочитати файл', err);
        return;
    }
    console.log('Дані з файлу:', data);
});
```

### Читання великих файлів за допомогою потоків

Для читання великих файлів (наприклад, більше 300 мегабайтів) краще використовувати потоки (streams). Вони дозволяють обробляти дані поступово і не завантажують великий файл цілком у пам'ять.

```javascript
const fs = require('fs');

const readStream = fs.createReadStream('path/to/largeLogfile.log', 'utf8');

readStream.on('data', (chunk) => {
    console.log('Отриманий фрагмент:', chunk);
});

readStream.on('end', () => {
    console.log('Читання завершено.');
});

readStream.on('error', (err) => {
    console.error('Помилка при читанні файлу:', err);
});
```

### Переваги використання потоків

- **Ефективність пам'яті**: Потоки дозволяють обробляти файли по частинах, що значно економить оперативну пам'ять при обробці великих файлів.
- **Швидкість обробки**: Потоки можуть дозволити розпочати обробку файлу ще до того, як весь файл буде завантажений, що може збільшити загальну швидкість обробки.

Також для обробки великих файлів ви можете переглядати додаткові модулі з npm, такі як `stream` або `split2`, які надають додаткові можливості для маніпуляції потоками даних.

| Back | Forward |
|---|---|
| [Яке призначення файлу package.json для Node.js проєктів?](/ua/middle/nodejs/what-is-the-purpose-of-a-file-called-packagejson-for-a-nodejs-project.md)  | [Поясніть цикл подій у Node.js.](/ua/middle/nodejs/what-is-the-event-cycle-in-nodejs.md) |