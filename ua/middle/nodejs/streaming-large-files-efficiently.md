#### * Stream large files efficiently

Для ефективної роботи з великими файлами за допомогою Node.js, можна скористатися потоками (streams). Потоки дозволяють обробляти великі обсяги даних, розділяючи їх на менші частини, які звані чанками, і забезпечують контрольовану передачу даних. Ось приклад, як читати великий файл за допомогою `fs` та потоків:

```javascript
const fs = require('fs');

// Створюємо поток для читання
const readStream = fs.createReadStream('largeFile.txt', { encoding: 'utf8' });

// Відслідковуємо подію 'data', щоб отримувати чанки даних
readStream.on('data', (chunk) => {
  console.log('Received chunk:', chunk);
});

// Обробляємо помилки
readStream.on('error', (err) => {
  console.error('Error occurred:', err);
});

// Подія 'end' виникає, коли читання закінчено
readStream.on('end', () => {
  console.log('Reading completed');
});
```

Цей код читає великий файл порціями, не завантажуючи його цілком у пам'ять, тим самим зменшуючи використання системних ресурсів.

### Чому варто використовувати потоки?
1. **Ефективність пам'яті**: Потоки не зберігають усі дані в оперативній пам'яті одночасно, що дозволяє обробляти великі файли чи дані з обмеженою кількістю пам'яті.
2. **Продуктивність**: Потоки обробляють дані по чанках, що дає змогу почати роботу з частиною даних, поки решта ще передається.
3. **Модульність**: Читання, обробка та запис даних можуть бути розділені між кількома потоками, забезпечуючи зручну архітектуру для обробки даних.

Таким чином, потоки в Node.js — це потужний інструмент для роботи з великими файлами чи обсягами даних, який дозволяє оптимізувати використання пам'яті та покращити продуктивність вашого додатка.

| Back | Forward |
|---|---|
| [Utilize multi-threading effectively](/ua/middle/nodejs/use-multiple-threads-efficiently.md)  | [Explain roles of libuv and V8 in Node.js](/ua/middle/nodejs/what-are-the-roles-of-libuv-and-v8-in-nodejs.md) |