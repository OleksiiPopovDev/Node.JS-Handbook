#### 110. Які особливості передачі даними між worker’ами та основним потоком?

Передача даних між worker’ами (працівниками) та основним потоком в JavaScript, наприклад, з використанням Web Workers, має кілька особливостей:

1. **Асинхронність**: Worker-и працюють у фонових потоках, паралельно з основним потоком. Обмін даними між ними відбувається асинхронно через повідомлення.

2. **Обмін Повідомленнями**: Передача даних здійснюється через методи `postMessage()` та обробник подій `onmessage`. Дані, які відправляються, копіюються від основного потоку до worker-а і навпаки.

3. **Копіювання Даних**: Дані передаються шляхом копіювання, а не через спільну пам'ять. Це означає, що складні структури даних (наприклад, об'єкти) створюються наново, що може впливати на швидкодію, якщо обсяги даних великі.

4. **Об'єкти, Що Переміщуються**: Деякі об'єкти, такі як `ArrayBuffer`, можуть бути передані за допомогою техніки переміщення (transferable objects), що не копіює дані, а передає "володіння" ними. Це дозволяє уникнути витрат на копіювання.

5. **Обмеження на Дані**: Не всі об'єкти можна передавати між worker-ами та основним потоком. Наприклад, функції та об'єкти з циклічними посиланнями не можуть бути передані через `postMessage()`.

6. **Безпечність Потоків**: Оскільки worker-и та основний потік не поділяють спільний контекст виконання, це допомагає уникнути проблем із потокобезпекою й робить програму стабільнішою.

За допомогою цієї моделі, розробники можуть створювати веб-додатки, які покращують продуктивність за рахунок паралельного виконання задач, зменшуючи навантаження на основний потік.

| Back | Forward |
|---|---|
| [Що таке Web Workers? Для чого їх використовують?](/ua/middle/javascript/what-are-web-workers-used-for.md)  | [Які обмеження накладаються на потік Web Workers?](/ua/middle/javascript/what-are-the-limitations-imposed-on-a-web-worker-stream.md) |