#### 243. У чому різниця між оптимістичним та песимістичним блокуванням?

Оптимістичне та песимістичне блокування — це дві різні стратегії управління конкурентністю доступу до даних у базах даних.

### Оптимістичне блокування
- **Принцип роботи**: Передбачає, що конфлікти при доступі до даних є рідкісними, тому дозволяє користувачам вільно читати дані без блокувань.
- **Перевірка конфліктів**: Конфлікти виявляються лише на етапі запису, коли дані оновлюються. Перед записом система перевіряє, чи не змінилися дані з моменту їх читання. Якщо зміни були, операція запису не виконується.
- **Переваги**:
  - Висока продуктивність у випадках, коли конфлікти є рідкісними.
  - Менший вплив на швидкодію при читанні даних.
- **Недоліки**:
  - Потенційні порушення погодженості, якщо конфлікти виникають часто.
  - Необхідність додаткової логіки для обробки випадків, коли запис неможливий через конфлікти.

### Песимістичне блокування
- **Принцип роботи**: Передбачає, що конфлікти можуть траплятися часто. Забезпечує ексклюзивний доступ до ресурсів шляхом блокування даних під час читання та внесення змін.
- **Блокування**: При читанні даних вони можуть бути заблоковані від зміни іншими транзакціями до завершення поточної транзакції.
- **Переваги**:
  - Забезпечує високу погодженість даних, оскільки конфлікти зведені до мінімуму.
  - Підходить для сценаріїв з високим рівнем конкурентності.
- **Недоліки**:
  - Може знижувати загальну продуктивність системи через очікування між транзакціями.
  - Можливість виникнення deadlock'ів (взаємних блокувань).

### Вибір між оптимістичним і песимістичним блокуванням
Вибір стратегії залежить від характеру робочого навантаження на систему:

- **Оптимістичне блокування** зазвичай краще підходить для систем, де операції запису і конфлікти рідкісні, а читання даних є домінуючими.
- **Песимістичне блокування** краще застосовувати в системах з високою частотою читання та запису й великим ризиком виникнення конфліктів при оновленні даних.

Вибір методики залежить від специфіки застосування та часто поєднується з іншими механізмами для досягнення оптимальної продуктивності та погодженості даних.

| Back | Forward |
|---|---|
| [У чому різниця нормалізованих і ненормалізованих даних? Наведіть приклад, коли які краще використовувати.](/ua/senior/database/what-is-the-difference-between-normalized-and-denormalized-data-provide-an-example-of-when-to-use-each.md)  | [Навіщо потрібні індекси пошуку? Які мінуси в індексів?](/ua/senior/database/what-are-the-reasons-for-searching-indexes-what-are-the-disadvantages-of-indexes.md) |