#### 243. У чому різниця між оптимістичним та песимістичним блокуванням?

Оптимістичне та песимістичне блокування — це підходи до управління паралельністю в базах даних і програмному забезпеченні, що забезпечують коректність даних при одночасному доступі:

### Оптимістичне блокування

1. **Припущення про конфлікти**: Вважає, що конфлікти під час одночасного доступу є рідкісними.
2. **Процес роботи**:
   - **Читання**: Клієнт читає дані без блокування.
   - **Маніпуляції**: Клієнт виконує необхідні операції над даними.
   - **Перевірка**: Перед збереженням змін, перевіряє, чи дані не були змінені іншими транзакціями. Зазвичай, це виконується шляхом порівняння версії даних або таймстампа.
   - **Підтвердження або відміна**: Якщо дані не змінились, транзакція успішно виконується. Якщо змінилися, транзакція відкидається і може бути повторена.
3. **Переваги**: Менше накладних витрат при відсутності конфліктів, висока швидкість в сценаріях з низькою конкуренцією.
4. **Недоліки**: Можливі багаторазові повтори транзакцій при частих конфліктах.

### Песимістичне блокування

1. **Припущення про конфлікти**: Вважає, що конфлікти є частими і їх потрібно уникати.
2. **Процес роботи**:
   - **Читання з блокуванням**: Клієнт блокує дані з самого початку доступу, не дозволяючи іншим транзакціям їх змінювати.
   - **Маніпуляції**: Операції виконуються над заблокованими даними.
   - **Підтвердження змін**: Зміни зберігаються і блокування знімається.
3. **Переваги**: Запобігає конфліктам, оскільки не дозволяє одночасні зміни.
4. **Недоліки**: Може призводити до блокування ресурсів і дедлоків, особливо в умовах високого навантаження. Більш висока накладна витрата на управління блокуванням.

Обидва підходи мають свої сфери застосування та ефективність залежить від конкретних умов системи і характеру доступу до даних.

| Back | Forward |
|---|---|
| [У чому різниця нормалізованих і ненормалізованих даних? Наведіть приклад, коли які краще використовувати.](/ua/senior/database/what-is-the-difference-between-normalized-and-denormalized-data-provide-an-example-when-to-use-each.md)  | [Навіщо потрібні індекси пошуку? Які мінуси в індексів?](/ua/senior/database/244-why-are-search-indexes-needed-what-are-the-disadvantages-of-indexes.md) |