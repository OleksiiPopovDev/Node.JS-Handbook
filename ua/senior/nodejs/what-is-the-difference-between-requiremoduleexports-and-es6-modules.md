#### 203. У чому полягає різниця між require/module.exports і ES6-модулями?

У Node.js існують дві основні системи модулів: `CommonJS` (включаючи `require` та `module.exports`) та `ES6-модулі`. Ось в чому їх основні відмінності:

### CommonJS (require/module.exports)

1. **Синтаксис імпорту/експорту:**
   - Імпорт: `const module = require('module');`
   - Експорт: `module.exports = value;`

2. **Експорт:**
   - CommonJS експортує об'єкти. Ви можете експортувати функції, клас або об'єкти через `module.exports`.

3. **Виконання:**
   - Експортує значення під час виконання (runtime).
   - Для динамічного імпорту часто використовують `require` в середині коду.

4. **Сфера застосування:**
   - В основному використовується в середовищі Node.js.
   - Файли вважаються модулями за замовчуванням.

5. **Синхронність:**
   - Імпорт є синхронною операцією.

### ES6-модулі (import/export)

1. **Синтаксис імпорту/експорту:**
   - Імпорт: `import module from 'module';`
   - Експорт: `export default value;` або `export const variable = value;`

2. **Експорт:**
   - Підтримують імпорт та експорт як за замовчуванням, так і іменовані експорти.

3. **Виконання:**
   - Статичні імпорти та експорти визначаються під час компіляції.
   - Динамічний імпорт можливий через `import()`.

4. **Сфера застосування:**
   - Використовується для роботи як в браузерах, так і в Node.js (з певними налаштуваннями).
   - Файли треба декларувати як модулі (наприклад, за допомогою `"type": "module"` у `package.json` для Node.js).

5. **Асинхронність:**
   - Імпорти можуть бути асинхронними, що дозволяє використовувати їх з новою функціональністю, такою як `import()` для динамічного імпорту.

### Порівняння та сумісність

- **Багатосередовищна підтримка:** ES6-модулі працюють у браузерах без трансформацій, тоді як CommonJS стал сильно залежати від Node.js.
- **Сумісність:** Існують способи, щоб використовувати обидві системи разом, наприклад, за допомогою трансляторів (Babel) або інструментів як Webpack.
- **Сучасність:** ES6-модулі вважаються більш сучасними і пропонують можливості для оптимізації, такі як tree-shaking.

Вибір між ними зазвичай залежить від навколишнього середовища, вимог до сумісності та особистих переваг.

| Back | Forward |
|---|---|
| [Як працювати із вбудованими Node.js функціями, реалізованими через callback інтерфейс в async/await стилі?](/ua/senior/nodejs/how-to-work-with-nodejs-builtin-functions-implemented-through-callback-interface-in-asyncawait-style.md)  | [З яких стадій складається цикл event loop в libuv?](/ua/senior/nodejs/what-stages-does-the-event-loop-cycle-consist-of-in-libuv.md) |