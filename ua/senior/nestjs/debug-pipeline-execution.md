#### * Debug pipe execution

Щоб налагодити виконання конвеєра (pipeline) в системах на основі Unix, ви можете скористатися кількома корисними прийомами та інструментами. Вони допоможуть зрозуміти, що відбувається на кожному етапі конвеєра. Ось кілька підходів:

1. **Додайте `set -x` у скрипти shell-скрипти:**

   Якщо ви виконуєте команду в скрипті shell (bash, zsh), додайте на початку скрипта рядок:
   ```bash
   set -x
   ```
   Це дозволить вам побачити всі команди в консолі до їх виконання.

2. **Використовуйте `tee`:**

   Команда `tee` дозволяє переглядати проміжні результати на різних етапах, не перериваючи виконання конвеєра. Наприклад:

   ```bash
   cat file.txt | tee intermediate_output1.txt | grep "pattern" | tee intermediate_output2.txt | sort
   ```

   У цьому прикладі ви збережете проміжні результати у файли `intermediate_output1.txt` та `intermediate_output2.txt`.

3. **Перевірте вихідні коди:**

   Використовуйте команду `echo $?` після кожного етапу конвеєра, щоб перевіряти вихідний код команди. Нуль означає успішне виконання.

4. **Перевірка потоків вводу/виводу:**

   Іноді проблема може полягати в неправильній обробці потоків вводу (`stdin`) або виводу (`stdout`). Можна використовувати перенаправлення, щоб записувати ці потоки в файли для аналізу:

   ```bash
   command1 > stdout.txt 2> stderr.txt
   ```

5. **Додаткові засоби:**

   - Використовуйте `grep` для фільтрації і перевірки результатів на різних етапах.
   - Спробуйте `awk` або `sed` для обробки тексту і перевірки даних.
   - Команда `strace` дозволяє відслідковувати системні виклики програми, що може бути корисним для глибокого налагодження.

Ці кроки можуть допомогти виявити та виправити проблеми у вашому конвеєрі.

| Back | Forward |
|---|---|
| [Design complex provider patterns](/ua/senior/nestjs/design-complex-provider-patterns.md)  | [Design complex guard strategies](/ua/senior/nestjs/design-complex-security-protocols.md) |