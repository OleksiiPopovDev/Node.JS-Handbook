#### * Implement data migrations

Реалізація міграцій даних — це важливий аспект управління базами даних, що дозволяє плавно переходити до нових структур чи налаштувань без втрати існуючих даних. Міграції зазвичай використовуються для оновлення схеми бази даних або її початкового заповнення даними. Ось як ви можете реалізувати міграції даних у різних контекстах:

### 1. Використання ORM (Object-Relational Mapping)

#### Приклад з Django:

1. **Створіть зміни у моделях**:

    Внесіть необхідні зміни у файли ваших моделей (`models.py`).

2. **Створіть файл міграцій**:

    Використовуйте команду для створення файлу міграцій на основі змін:

    ```bash
    python manage.py makemigrations
    ```

3. **Застосуйте міграції**:

    Застосуйте міграції до бази даних:

    ```bash
    python manage.py migrate
    ```

#### Приклад з Ruby on Rails:

1. **Створіть нову міграцію**:

    Використовуйте команду для створення файлу міграцій:

    ```bash
    rails generate migration CreateProducts
    ```

2. **Визначте зміни**:

    Відредагуйте файл міграції (`db/migrate/[timestamp]_create_products.rb`), щоб додати нові таблиці або поля.

3. **Застосуйте міграції**:

    Застосуйте зміни до бази даних:

    ```bash
    rails db:migrate
    ```

### 2. Використання SQL-скриптів

Якщо ви не використовуєте ORM, або потрібно виконати специфічні зміни, можете написати SQL-скрипт для міграцій.

1. **Напишіть SQL-скрипт**:

    ```sql
    -- Додати нову колонку
    ALTER TABLE products ADD COLUMN description TEXT;

    -- Переносити дані, виконуючи зміну
    UPDATE products SET description = 'sample description' WHERE description IS NULL;
    ```

2. **Застосуйте скрипт**:

    Виконайте цей скрипт у вашій системі управління базами даних (наприклад, через консолі MySQL, PostgreSQL).

### Загальні поради

- **Бекап даних**: Перед застосуванням будь-яких міграцій, завжди корисно мати резервну копію бази даних.
- **Версіонування**: Зберігайте всі міграції в системі контролю версій, щоб мати можливість скасувати зміни.
- **Тестування**: Тестуйте міграції на тестових даних перед запуском у виробничому середовищі.

Реалізація міграцій даних є важливим процесом у розробці, що допомагає підтримувати цілісність даних і спрощує розробку нових функцій.

| Back | Forward |
|---|---|
| [Understand ORM basics](/ua/junior/database/understand-object-relational-mapping-basics.md)  | [Filter and query tables](/ua/junior/database/filtering-and-querying-data.md) |