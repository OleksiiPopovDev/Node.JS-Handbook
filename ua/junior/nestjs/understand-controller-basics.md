#### * Understand basic usage of controllers

У веб-розробці контролери є важливим компонентом архітектури моделі-уявлення-контролера (MVC). Вони відповідають за обробку запитів від користувачів, взаємодію з моделями для отримання або збереження даних та передачу інформації до уявлень для відображення результату.

Ось декілька основних моментів щодо використання контролерів:

1. **Отримання запиту**: Контролер приймає HTTP-запит від користувача. Це може бути GET, POST, PUT, DELETE та інші типи запитів.

2. **Взаємодія з моделями**: Контролер може звертатися до моделей для отримання необхідних даних з бази чи запуску певної бізнес-логіки. Наприклад, якщо користувач запитує сторінку продукту, контролер може використовувати модель для отримання інформації про цей продукт з бази даних.

3. **Вибір уявлення**: Контролер передає дані, отримані з моделі, у відповідне уявлення (шаблон), яке потім рендериться і повертається як HTTP-відповідь користувачу.

4. **Обробка вводу**: Контролери також часто валідують та обробляють природні дані, отримані через запити. Це може включати перевірку полів форми, санітизацію вводу тощо.

5. **Маршрутизація**: Контролери часто пов’язуються з маршрутами, які визначають URL-шляхи, пов'язані з конкретними методами всередині контролерів.

### Приклад (на Ruby on Rails)

```ruby
class ProductsController < ApplicationController
  def show
    @product = Product.find(params[:id])
    
    render :show
  end

  def create
    @product = Product.new(product_params)
    
    if @product.save
      redirect_to @product
    else
      render :new
    end
  end

  private

  def product_params
    params.require(:product).permit(:name, :description, :price)
  end
end
```

### Пояснення прикладу:

- **Метод `show`**: Приймає `id` продукту (через параметри `params`) і знаходить відповідний запис у базі даних. Потім рендериться відповідне уявлення `:show`.

- **Метод `create`**: Створює новий продукт. Використовує приватний метод `product_params` для фільтрації дозволених параметрів. Якщо збереження продукту вдале, перенаправляє на сторінку продукту, інакше знову відображає форму.

Контролери, як правило, мають ряд дій, кожна з яких обробляє специфічний вид запиту і виконує чітко визначену задачу.

| Back | Forward |
|---|---|
| [Understand interceptors](/ua/junior/nestjs/understand-interceptors.md)  | [Write simple unit tests for services and controllers](/ua/junior/nestjs/write-simple-unit-tests-for-services-and-controllers.md) |