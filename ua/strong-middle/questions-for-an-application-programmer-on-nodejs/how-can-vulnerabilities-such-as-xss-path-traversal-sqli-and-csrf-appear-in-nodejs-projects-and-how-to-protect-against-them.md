#### 188. Як у проєктах на Node.js можуть з’явитися вразливості з (на вибір): XSS, Path traversal, SQLI, CSRF? Як від них захищатися?

У проєктах на Node.js можуть з’явитися різні вразливості, і важливо знати, як їх попереджати та захищатися від них.

### 1. XSS (Cross-Site Scripting)
**Як з'являються:** 
XSS вразливості виникають, коли зловмисник може ввести та виконати шкідливий скрипт у браузері інших користувачів шляхом небезпечного введення даних, які відображаються на вебсторінці.

**Як захищатися:**
- **Екранування:** Завжди екрануйте спеціальні символи перед відображенням введених даних на сторінці.
- **Використання бібліотек:** Застосовуйте бібліотеки для екранування вхідних і вихідних даних, такі як `DOMPurify` для очищення HTML.
- **Content Security Policy (CSP):** Використовуйте політику безпеки контенту для обмеження виконання небезпечного скрипту.
- **Шаблонізатори:** Застосовуйте шаблонізатори, які автоматично екранують дані, такі як `EJS` або `Handlebars`.

### 2. Path Traversal
**Як з'являються:** 
Path Traversal дозволяє зловмиснику отримати доступ до файлів та директорій поза кореневою директорією вебсерверу, якщо шляхи не валідовані належним чином.

**Як захищатися:**
- **Фіксація шляхів:** Використовуйте безпечні шляхи та обмежуйте файловий доступ до відомих директорій.
- **Бібліотеки для роботи з шляхами:** Використовуйте модулі, як-от `path` у Node.js, для нормалізації та перевірки шляхів (`path.normalize()`).
- **Контроль доступу:** Впроваджуйте чіткі політики контролю доступу для ресурсів.

### 3. SQL Injection (SQLI)
**Як з'являються:** 
SQL Injection відбувається, коли нападник може вставити шкідливий SQL-код через введені користувачем дані, які використовуються у SQL-запитах.

**Як захищатися:**
- **Параметризовані запити:** Використовуйте параметризовані запити або підготовлені вирази (prepared statements), щоб уникнути динамічного складання SQL-запитів.
- **ORM/ODM:** Використовуйте ORM (Object-Relational Mapping) бібліотеки, такі як `Sequelize`, щоб мінімізувати ризик SQLI.
- **Екранування даних:** Ніколи не вставляйте необроблені користувацькі дані безпосередньо в запити SQL.

### 4. CSRF (Cross-Site Request Forgery)
**Як з'являються:** 
CSRF атаки змушують користувача виконати небажані дії на вебсайті, на якому вони авторизовані.

**Як захищатися:**
- **CSRF токени:** Впроваджуйте механізм CSRF токенів, які перевіряються для кожного змінюваного запиту.
- **HTTP заголовок Referer:** Перевіряйте заголовок Referer або Origin для впевнення, що запит іде з довіреного джерела.
- **SameSite атрибут для печива:** Використовуйте SameSite атрибут для печив (`cookies`) для обмеження їх використання лише тим же сайтом.

Ці підходи допоможуть знизити ризик від можливих вразливостей та підвищити безпеку вашого Node.js проєкту.

| Back | Forward |
|---|---|
| [Наведіть найкращі практики для обробки помилок в асинхронному коді.](/ua/strong-middle/questions-for-an-application-programmer-on-nodejs/what-are-best-practices-for-error-handling-in-asynchronous-code.md)  | [Як можливі race conditions при асинхронному програмуванні?](/ua/strong-middle/questions-for-an-application-programmer-on-nodejs/how-possible-race-conditions-during-asynchronous-programming.md) |